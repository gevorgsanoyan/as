@model ASFront.Models.Branches

@{
    ViewBag.Title = "Create Branch";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>Մուտքագրել նոր մասնաճյուղ</h2>

@using (Html.BeginForm())
{
    @Html.AntiForgeryToken()

<div class="form-horizontal">
    <h4>Մասնաճյուղ</h4>
    <hr />
    @Html.ValidationSummary(true, "", new { @class = "text-danger" })
    <div class="form-group">
        @Html.LabelFor(model => model.Branch, htmlAttributes: new { @class = "control-label col-md-2" })
        <div class="col-md-10">
            @Html.EditorFor(model => model.Branch, new { htmlAttributes = new { @class = "form-control" } })
            @Html.ValidationMessageFor(model => model.Branch, "", new { @class = "text-danger" })
        </div>
    </div>

    <div class="form-group">
        @Html.LabelFor(model => model.asCode, htmlAttributes: new { @class = "control-label col-md-2" })
        <div class="col-md-10">
            @Html.EditorFor(model => model.asCode, new { htmlAttributes = new { @class = "form-control" } })
            @Html.ValidationMessageFor(model => model.asCode, "", new { @class = "text-danger" })
        </div>
    </div>

    <div class="form-group">
        @Html.LabelFor(model => model.Address, htmlAttributes: new { @class = "control-label col-md-2" })
        <div class="col-md-10">
            @Html.EditorFor(model => model.Address, new { htmlAttributes = new { @class = "form-control" } })
            @Html.ValidationMessageFor(model => model.Address, "", new { @class = "text-danger" })
        </div>
    </div>
    <div class="form-group">
        @Html.LabelFor(model => model.Phone, htmlAttributes: new { @class = "control-label col-md-2" })
        <div class="col-md-10">
            @Html.EditorFor(model => model.Phone, new { htmlAttributes = new { @class = "form-control" } })
            @Html.ValidationMessageFor(model => model.Phone, "", new { @class = "text-danger" })
        </div>
    </div>
    <div class="form-group">
        @Html.LabelFor(model => model.Note, htmlAttributes: new { @class = "control-label col-md-2" })
        <div class="col-md-10">
            @Html.EditorFor(model => model.Note, new { htmlAttributes = new { @class = "form-control" } })
            @Html.ValidationMessageFor(model => model.Note, "", new { @class = "text-danger" })
        </div>
    </div>




    <div class="form-group">
        @Html.LabelFor(model => model.Region, htmlAttributes: new { @class = "control-label col-md-2" })
        <div class="col-md-10">
            @Html.EditorFor(model => model.Region, new { htmlAttributes = new { @class = "form-control" } })
            @Html.ValidationMessageFor(model => model.Region, "", new { @class = "text-danger" })
        </div>
    </div>
    <div class="form-group">
        @Html.LabelFor(model => model.City, htmlAttributes: new { @class = "control-label col-md-2" })
        <div class="col-md-10">
            @Html.EditorFor(model => model.City, new { htmlAttributes = new { @class = "form-control" } })
            @Html.ValidationMessageFor(model => model.City, "", new { @class = "text-danger" })
        </div>
    </div>

    <div class="form-group">
        @Html.LabelFor(model => model.Street, htmlAttributes: new { @class = "control-label col-md-2" })
        <div class="col-md-10">
            @Html.EditorFor(model => model.Street, new { htmlAttributes = new { @class = "form-control" } })
            @Html.ValidationMessageFor(model => model.Street, "", new { @class = "text-danger" })
        </div>
    </div>
   




    <div class="form-group">
        <div class="col-md-offset-2 col-md-10">
            <input type="submit" value=@Resources.Page.Save name="Save" class="btn btn-default" />
        </div>
    </div>
</div>
}

<div>
    @Html.ActionLink(Resources.Page.BackToList, "Branches")
</div>




<script>


    //$(document).ready(function () {
    //    var RegionID = $("#Region").data("kendoDropDownList"),
    //        CityID = $("#City").data("kendoDropDownList"),
    //        StreetID = $("#Street").data("kendoDropDownList");


    //    });







    $(document).ready(function () {
            $("#Region").kendoDropDownList({
               placeholder: "@Resources.Page.Select",
                filter: "contains",
                dataTextField: "Name",
                dataValueField: "Id",
                optionLabel: " ",
                dataSource: {
                    //type: "json",
                    serverFiltering: false,
                    //serverFiltering: true,
                    transport: {
                        read: {

                             url: "@(Url.RouteUrl("ListRegion"))",
                            dataType: "json"
                        },
                        dataType: "json"
                    },






                 
                }


                //,open: function () {
                //    var filters = this.dataSource.filter();

                //    if (filters) {
                //        //clear applied filters
                //        this.dataSource.filter({});
                //    }
                //}

            });
        });



    $(document).ready(function () {
        function onRegSelect() {
            var reg = $('#Region').data("kendoDropDownList").text();
            return reg;
        }
         $("#City").kendoDropDownList({
               placeholder: "@Resources.Page.Select",
                filter: "contains",
                dataTextField: "Name",
                dataValueField: "Id",
                optionLabel: " ",
                dataSource: {
                    //type: "json",
                    serverFiltering: false,
                    //serverFiltering: true,
                    transport: {
                        read: {
                                
                            url: "@(Url.RouteUrl("ListCity"))",
                            dataType: "json"
                        },
                        dataType: "json"
                    },







                }


            });
    });



     $(document).ready(function () {
         $("#Street").kendoDropDownList({
               placeholder: "@Resources.Page.Select",
                filter: "contains",
                dataTextField: "Name",
                dataValueField: "Id",
                optionLabel: " ",
                dataSource: {
                    //type: "json",
                    serverFiltering: false,
                    //serverFiltering: true,
                    transport: {
                        read: {

                             url: "@(Url.RouteUrl("ListStreet"))",
                            dataType: "json"
                        },
                        dataType: "json"
                    },







                }





            });
        });





</script>

@Scripts.Render("~/bundles/jqueryval")
